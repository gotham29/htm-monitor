features:
  timestamp:
    type: datetime
    format: "%Y-%m-%d %H:%M:%S"
    timeOfDay: 21
    weekend: 0
    dayOfWeek: 0
    holiday: 0
    season: 0

  jumpsdown:
    type: float
    size: 512
    activeBits: 21
    numBuckets: 130
    minVal: 18.00203996
    maxVal: 87.99838184
    seed: 42

  jumpsup:
    type: float
    size: 512
    activeBits: 21
    numBuckets: 130
    minVal: 18.00100982
    maxVal: 164.9474805
    seed: 43

  nojump:
    type: float
    size: 512
    activeBits: 21
    numBuckets: 130
    minVal: 18.00050055
    maxVal: 87.97331353
    seed: 44
    

models:
  jumpsdown_model:
    source: jumpsdown
    features: ["timestamp", "jumpsdown"]
  jumpsup_model:
    source: jumpsup
    features: ["timestamp", "jumpsup"]
  nojump_model:
    source: nojump
    features: ["timestamp", "nojump"]


data:
  timebase:
    mode: union          # union|intersection (union default)
    on_missing: skip     # skip|hold_last (you chose skip)

  sources:
    - name: jumpsdown
      kind: csv
      path: /Users/samheiserman/Desktop/datasets/NAB/artificialWithAnomaly/artificialWithAnomaly/art_daily_jumpsdown.csv
      timestamp_col: timestamp
      timestamp_format: "%Y-%m-%d %H:%M:%S"
      fields:
        jumpsdown: value
      labels:
        timestamps:
          - "2014-04-11 09:00:00"

    - name: jumpsup
      kind: csv
      path: /Users/samheiserman/Desktop/datasets/NAB/artificialWithAnomaly/artificialWithAnomaly/art_daily_jumpsup.csv
      timestamp_col: timestamp
      timestamp_format: "%Y-%m-%d %H:%M:%S"
      fields:
        jumpsup: value
      labels:
        timestamps:
          - "2014-04-11 09:00:00"

    - name: nojump
      kind: csv
      path: /Users/samheiserman/Desktop/datasets/NAB/artificialWithAnomaly/artificialWithAnomaly/art_daily_nojump.csv
      timestamp_col: timestamp
      timestamp_format: "%Y-%m-%d %H:%M:%S"
      fields:
        nojump: value
      labels:
        timestamps:
          - "2014-04-11 09:00:00"


decision:
  threshold: 0.40
  method: kofn_window
  k: 2
  window:
    size: 12          # number of steps (simple, matches your current loop)
    per_model_hits: 1 # m in "N-of-W" (optional; default 1)
    mode: hits        # hits | any | ema   (start with hits)


plot:
  enable: true
  step_pause_s: 0.01
  window: 1000
  show_ground_truth: true

